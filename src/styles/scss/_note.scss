// == layout
// --------------------------------
$inner-header-height: rem(36);
// == text
// --------------------------------
$note-heading: rem(18); // heading font-size
$letter-spacing: -0.03rem;
// == color
// --------------------------------
$custom-note-black: #191919;
$custom-note-gray: #767676;

// == note: project menu
// --------------------------------
.project-menu {
  width: 100%;
  height: $inner-header-height;
  padding: 0 rem(30);
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  box-sizing: border-box;

  li {
    margin-right: rem(30);
    line-height: rem(30);
    font-size: rem(18);
    letter-spacing: $letter-spacing;
    font-weight: 700;
    color: #9a9a9a;
    float: left;
  }

  a {
    text-decoration: none;
    &:hover {
      color: $primary;
    }
  }
}

.project-menu-active {
  color: $primary;
  &:after {
    position: relative;
    bottom: 0;
    content: "";
    display: block;
    width: auto;
    height: rem(2);
    background-color: $primary;
  }
}

// == note: note container
// --------------------------------
.note-container {
  width: 100%;
  // height: calc(100vh - #{$header-height} - rem(50) - #{$inner-header-height});
  height: calc(100vh - 166px);
  padding: rem(36) rem(30);
  white-space: nowrap;
  overflow-x: scroll;
  overflow-y: hidden;
  display: flex;
  flex-direction: row;
}

// == note: kanban - column
// --------------------------------
.kanban-column {
  width: rem(320);
  height: inherit;
  margin-right: rem(28);
  display: flex;
  flex-direction: column;
  white-space: nowrap;
  overflow-y: hidden;
  border-radius: rem(20);
  background-color: #f3f3f3;

  .kanban-col-header {
    margin: rem(20) rem(20) 0;
    display: flex;
    justify-content: space-between;
    align-items: center;

    & span {
      margin-left: rem(12);
      font-weight: bold;
      font-size: $note-heading;
      letter-spacing: $letter-spacing;
      color: $custom-note-gray;
    }

    .kanban-col-title {
      display: flex;
      align-items: center;

      .kanban-col-badge {
        width: rem(24);
        margin-left: rem(10);
        border-radius: rem(18);
        display: inline-block;
        text-align: center;
        vertical-align: middle;
        color: #ffffff;
        font-size: rem(12);
        line-height: rem(18);
        font-weight: bold;
        letter-spacing: $letter-spacing;
      }
    }
  }

  .kanban-col-content {
    min-height: rem(20);
    max-height: calc(100vh - 360px); // rem(360) 시 적용 안 됨
    margin-top: rem(8);
    user-select: none;
    white-space: nowrap;
    overflow-y: auto;
  }

  .kanban-col-footer {
    height: rem(60);
    border-radius: 0 0 rem(20) rem(20);
    display: flex;
    align-items: center;
    justify-content: center;
    & div {
      cursor: pointer;
    }
    & svg {
      margin-top: -3px;
    }
    & span {
      margin-left: rem(4);
      font-weight: bold;
      font-size: $note-heading;
      letter-spacing: $letter-spacing;
      color: $custom-note-gray;
    }
  }
}

@media screen and (min-width: 768px) and (max-width: 1199px) {
  .kanban-column {
    .kanban-col-content {
      max-height: calc(100vh - 340px);
    }
  }
}
@media screen and (max-width: 767px) {
  .kanban-column {
    .kanban-col-content {
      max-height: calc(100vh - 310px);
    }
  }
}

// == note: kanban - card
// --------------------------------
.card-wrapper {
  min-height: rem(50);
  margin: rem(20);
  padding: rem(20) rem(20) rem(12);
  border-radius: rem(20);
  box-shadow: rem(2) rem(4) rem(20) rgba(25, 25, 25, 0.1);
  user-select: none;
  cursor: grab;
}

.kanban-card {
  h1 {
    font-weight: bold;
    font-size: rem(16);
    line-height: rem(24);
    letter-spacing: $letter-spacing;
    color: $custom-note-black;
    margin-bottom: rem(8);
    white-space: normal;
    word-break: break-all;
    overflow-wrap: break-word;
    // @include multiLineEllipsis($lineHeight: 1.2em, $lineCount: 3, $bgColor: white);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  p {
    font-size: rem(12);
    line-height: rem(18);
    letter-spacing: $letter-spacing;
    color: #bcbcbc;
  }
  p:last-of-type {
    font-weight: bold;
    color: $custom-note-gray;
  }
  hr {
    margin: rem(10) 0;
    height: rem(2);
    background-color: #bcbcbc;
  }
}

// == note: modal
// --------------------------------
.note-modal-label {
  font-weight: bold;
  font-size: $note-heading;
  line-height: rem(24);
  letter-spacing: $letter-spacing;
  margin: rem(32) 0 rem(8);
  color: $primary;
}

.note-modal-container {
  padding: rem(64) rem(64) 0;
  box-sizing: border-box;
  position: relative;
  background-color: #fff;
  border-radius: rem(40);
  min-width: rem(360);
  width: rem(720);
  top: 50%;
  transform: translateY(-50%);
  margin: 0 auto;

  .note-modal-header {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;

    .note-modal-title {
      display: flex;
      flex-direction: row;
      align-items: center;

      & h1 {
        font-weight: bold;
        font-size: rem(20);
        color: $custom-note-black;
        letter-spacing: $letter-spacing;
      }
    }
    svg {
      fill: $custom-note-black;
      margin-top: rem(3);
      cursor: pointer;
    }
  }
  .note-modal-content {
    padding-bottom: rem(64);
  }

  .note-modal-button {
    height: rem(96);
    display: flex;
    align-items: center;
    justify-content: space-around;
    margin: 0 rem(-64);
    border-top: 1px solid #c2c2c2;
    cursor: pointer;
    & h1 {
      font-weight: bold;
      font-size: rem(20);
      color: $custom-note-gray;
      letter-spacing: $letter-spacing;
    }
    & :hover {
      color: $primary;
    }
  }
}
@media screen and (max-width: 767px) {
  .note-modal-container {
    width: 100vw;
    height: 100vh;
    border-radius: 0;
  }
}

// == note: board container (Bookmark, MyNote page)
// --------------------------------
.note-board-container {
  width: 100%;
  height: calc(100vh - #{$header-height});
  padding: rem(36) rem(30);
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  flex-direction: column;
}

.note-issuecard-wrapper {
  margin-bottom: rem(16);
  padding: rem(16);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  background-color: #ffffff;
  border-radius: rem(20);
  box-shadow: rem(2) rem(4) rem(20) rgba(25, 25, 25, 0.1);

  .note-issuecard-content {
    padding: 0 rem(16);

    a {
      text-decoration: none;
    }

    h1 {
      font-weight: bold;
      font-size: rem(16);
      line-height: rem(24);
      white-space: normal;
      word-break: break-all;
      overflow-wrap: break-word;
      // @include multiLineEllipsis($lineHeight: 1.2em, $lineCount: 3, $bgColor: white);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      letter-spacing: $letter-spacing;
      color: $custom-note-black;
      &:hover {
        color: $primary;
      }
    }

    span {
      margin-right: rem(12);
      font-size: rem(16);
      line-height: rem(24);
      letter-spacing: $letter-spacing;
      color: $custom-note-gray;

      &.note-issuecard-title {
        color: $primary;
        &:hover {
          color: $custom-note-black;
        }
      }
    }
  }
}

// == note: note container; detail
// --------------------------------
.note-detail-container {
  @extend .note-container;
  justify-content: space-between;
}

.note-detail-wrapper {
  padding: rem(24);
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
  border-radius: rem(20);
  box-shadow: rem(2) rem(4) rem(20) rgba(25, 25, 25, 0.1);

  .note-detail-header {
    display: flex;
    flex-direction: column;

    .note-detail-header-step {
      display: flex;
      justify-content: space-between;

      & span {
        margin-left: rem(12);
        font-weight: bold;
        font-size: rem(16);
        letter-spacing: $letter-spacing;
        color: $custom-note-gray;
      }
    }

    .note-detail-header-button {
      margin-left: rem(4);
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      &:hover {
        color: $primary;
        transform: scale(1.05);
      }
    }

    .note-detail-header-title {
      display: flex;
      flex-direction: row;
      margin: rem(12) 0;
      white-space: normal;
      word-break: break-all;
      overflow-wrap: break-word;

      .note-detail-header-title-heading {
        font-weight: bold;
        font-size: rem(20);
        line-height: rem(24);
        letter-spacing: $letter-spacing;
        color: $custom-note-black;
      }
    }

    .note-detail-header-info {
      .note-detail-tag {
        height: rem(24);
        border-radius: rem(24);
        display: inline-block;
        margin: rem(6) rem(6) rem(6) 0;
        padding: 0 rem(20);
        text-align: center;
        vertical-align: middle;
        font-size: rem(14);
        line-height: rem(24);
        font-weight: bold;
        letter-spacing: $letter-spacing;

        & svg {
          width: rem(16);
          height: rem(16);
          margin-top: rem(-2);
          margin-right: rem(2);
        }
      }
      .note-detail-crew-tag {
        @extend .note-detail-tag;
        padding: 0 rem(12);
        color: #ffffff;
        background-color: #767676;
      }
    }
  }

  .note-detail-content {
    margin: rem(16) 0 rem(24);
    p {
      font-size: rem(16);
      line-height: rem(18);
      letter-spacing: $letter-spacing;
      color: $custom-note-black;
      white-space: pre-wrap;
      word-break: keep-all;
      overflow-wrap: break-word;
    }
  }

  .note-detail-footer {
    display: flex;
    justify-content: space-between;
    p {
      font-size: rem(14);
      line-height: rem(18);
      letter-spacing: $letter-spacing;
      color: #bcbcbc;
    }
  }
}

// == note: label
// --------------------------------
.note-step-label {
  height: rem(24);
  border-radius: rem(24);
  display: inline-block;
  margin: rem(6) 0;
  padding: 0 rem(20);
  text-align: center;
  vertical-align: middle;
  font-size: rem(12);
  line-height: rem(24);
  font-weight: bold;
  letter-spacing: $letter-spacing;

  & svg {
    width: rem(14);
    height: rem(14);
    margin-top: rem(-2);
    margin-right: rem(2);
  }
}

.note-issue-badge {
  width: rem(24);
  height: rem(18);
  border-radius: rem(18);
  display: inline-block;
  margin-bottom: -(rem(4));
  margin-right: rem(8);
}
